kubectl create secret generic kong-enterprise-license \
  --from-file=license=license.json -n kong

---
openssl req -new -x509 -nodes -newkey ec:<(openssl ecparam -name secp384r1) \
  -keyout ./tls.key -out ./tls.crt -days 1095 -subj "/CN=kong_clustering"

kubectl create secret tls kong-cluster-cert \
  --cert=./tls.crt --key=./tls.key -n kong

helm repo add kong https://charts.konghq.com
helm repo update
---

kubectl create secret generic kong-db-config \
  --from-literal=pg_host=kong-postgres.kong.svc.cluster.local \
  --from-literal=pg_port=5432 \
  --from-literal=pg_database=kong \
  --from-literal=pg_user=kong \
  --from-literal=pg_password=kongPass1234 \
  -n kong

---
openssl rand -base64 32
--
helm install kong-cp kong/kong -n kong --values ./kong-helm-values/values-cp.yaml
--
helm install kong-dp kong/kong -n kong --values ./kong-helm-values/values-dp.yaml

# Now need to connect the KONNECT Manager with Kong Data Plane